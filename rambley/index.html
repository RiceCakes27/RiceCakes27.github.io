<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>The Looker</title>
		<link rel="icon" href="LetMeGetaLook227.ico">
		<style>
			#videoElement {
				width: 500px;
				height: 375px;
				position: absolute;
				z-index: 1;
			}
			#video {
				height: 100vh;
			}
			#container {
				position: absolute;
				left: 50%;
				transform: translate(-50%, 0%);
			}
			body { 
				margin: 0;
				background-color: black;
				position: relative;
				overflow: hidden;
			}
		</style>
	</head>
	<body onload="replay()">
		<script>
			function replay() {
				document.getElementById('video').addEventListener('ended',myHandler,false);
				function myHandler(e) {
					document.getElementById('button').style.zIndex="1";
				}
			}
			function looker() {
				document.getElementById('button').style.zIndex="-1";
				document.getElementById('video').play();
				var delay = 6500;
				setTimeout(function () {
				document.getElementById('videoElement').style.display="block";
				camera();
				}, delay);
			}
			function camera() {
				var video = document.querySelector("#videoElement");
				if (navigator.mediaDevices.getUserMedia) {
				navigator.mediaDevices.getUserMedia({ video: true })
				.then(function (stream) {
				video.srcObject = stream;
				})
				.catch(function (err0r) {
				console.log("Something went wrong!");
				});
				var delay2 = 4000;
				setTimeout(function () {
					var x = document.getElementById("videoElement");
				if (x.style.display === "none") {
					x.style.display = "block";
				} else {
					x.style.display = "none";
				}
				}, delay2);
			}
		}
		</script>
		<div id="container">
			<video autoplay="true" id="videoElement"></video>
			<img src="play.png" style="position: absolute; height: 148px; left: 50%; top: 50%; transform: translate(-50%, -50%); cursor: pointer; z-index: 1;" onclick="looker()" id="button">
			<video src="test.mp4"id="video"></video>
		</div>
	</body>
</html>